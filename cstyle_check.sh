#!/bin/bash
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
# 0.0.2
# Alexey Potehin <gnuplanet@gmail.com>, http://www.gnuplanet.ru/doc/cv
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
if [ "${1}" == "" ] || [ ! -e "${1}" ];
then
	echo "${0} FILE";
	exit 1;
fi


#LINE_NUMBER=1;
#while read -r LINE;
#do
#
#	if [ "$(echo "${LINE}" | grep 'if(' | wc -l)" != "0" ];
#	then
#		echo "${1}:${LINE_NUMBER}: if(";
#	fi
#
#	if [ "$(echo "${LINE}" | grep 'for(' | wc -l)" != "0" ];
#	then
#		echo "${1}:${LINE_NUMBER}: for(";
#	fi
#
#	if [ "$(echo "${LINE}" | grep 'while(' | wc -l)" != "0" ];
#	then
#		echo "${1}:${LINE_NUMBER}: while(";
#	fi
#
#	if [ "$(echo "${LINE}" | grep 'do{' | wc -l)" != "0" ];
#	then
#		echo "${1}:${LINE_NUMBER}: do{";
#	fi
#
#	(( LINE_NUMBER++ ));
#
#done < "${1}";

grep -H -n -P '^if\(' "${1}";
grep -H -n -P '^for\(' "${1}";
grep -H -n -P '^while\(' "${1}";
grep -H -n -P '^do{' "${1}";

grep -H -n -P "\tif\(" "${1}";
grep -H -n -P "\tfor\(" "${1}";
grep -H -n -P "\twhile\(" "${1}";
grep -H -n -P "\tdo{" "${1}";

grep -H -n -P " if\(" "${1}";
grep -H -n -P " for\(" "${1}";
grep -H -n -P " while\(" "${1}";
grep -H -n -P " do{" "${1}";

echo "------------------------------------------";
grep -H -n -P " \(" "${1}" | grep -v -P '^if \(' | grep -v -P '^for \(' | grep -v -P '^while \(' | grep -v -P '\tif \(' | grep -v -P '\tfor \(' | grep -v -P '\twhile \(' | grep -v -P ' if \(' | grep -v -P ' for \(' | grep -v -P ' while \(';

exit 0;
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
